<!DOCTYPE html>
<html>
<head>

<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" type="text/css" th:href="@{/css/vendor.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/css/flat-admin.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/css/theme/blue-sky.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/css/custom.css}" />

<script src="https://cdn.jsdelivr.net/vue.resource/1.2.1/vue-resource.min.js"></script>
<script type='text/javascript' th:src="@{/webjars/vue/2.2.4/dist/vue.min.js}"></script>
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>

</head>
<body>
  <div class="app app-default" id="application-container">
    <aside class="app-sidebar" id="sidebar">
      <div class="sidebar-header">
        <button type="button" class="sidebar-toggle">
          <i class="fa fa-times"></i>
        </button>
      </div>
      <div class="sidebar-menu">
        <ul class="sidebar-nav">
          <li class="">
            <router-link to="/">
            <div class="icon">
              <i class="fa fa-tasks" aria-hidden="true"></i>
            </div>
            <div class="title">Dashboard</div>
            </router-link>
            </a>
          </li>
          <li class="@@menu.messaging">
            <router-link to="/users">
            <div class="icon">
              <i class="fa fa-users" aria-hidden="true"></i>
            </div>
            <div class="title">Users</div>
            </router-link>
          </li>
        </ul>
      </div>
      <div class="sidebar-footer">
        <ul class="menu">
          <li>
            <a href="/" class="dropdown-toggle" data-toggle="dropdown">
              <i class="fa fa-cogs" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="#">
              <span class="flag-icon flag-icon-th flag-icon-squared"></span>
            </a>
          </li>
        </ul>
      </div>
    </aside>

    <div class="app-container">
      <header-component></header-component>
      <transition name="fade" mode="out-in">
      <router-view></router-view></transition>
    </div>

  </div>


  <template id="header-component-template">
  <nav class="navbar navbar-default" id="navbar">
    <div class="container-fluid">
      <div class="navbar-collapse collapse in">
        <ul class="nav navbar-nav navbar-mobile">
          <li>
            <button type="button" class="sidebar-toggle">
              <i class="fa fa-bars"></i>
            </button>
          </li>
          <li class="logo">
            <a class="navbar-brand" href="#">
              <span class="highlight">Flat v3</span>
              Admin
            </a>
          </li>
          <li>
            <button type="button" class="navbar-toggle">
              <img class="profile-img" src="../assets/images/profile.png">
            </button>
          </li>
        </ul>
        <ul class="nav navbar-nav navbar-left">
          <li class="navbar-title">
            <span class="highlight">Customize</span>
          </li>
        </ul>
        <ul class="nav navbar-nav navbar-right">

          <li class="dropdown notification">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <div class="icon">
                <i class="fa fa-bell" aria-hidden="true"></i>
              </div>
              <div class="title">Unread Messages</div>
              <div class="count">99</div>
            </a>
            <div class="dropdown-menu">
              <ul>
                <li class="dropdown-header">Message</li>
                <li>
                  <a href="#">
                    <span class="badge badge-warning pull-right">10</span>
                    <div class="message">
                      <img class="profile" src="https://placehold.it/100x100">
                      <div class="content">
                        <div class="title">"Payment Confirmation.."</div>
                        <div class="description">Alan Anderson</div>
                      </div>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <span class="badge badge-warning pull-right">5</span>
                    <div class="message">
                      <img class="profile" src="https://placehold.it/100x100">
                      <div class="content">
                        <div class="title">"Hello World"</div>
                        <div class="description">Marco Harmon</div>
                      </div>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <span class="badge badge-warning pull-right">2</span>
                    <div class="message">
                      <img class="profile" src="https://placehold.it/100x100">
                      <div class="content">
                        <div class="title">"Order Confirmation.."</div>
                        <div class="description">Brenda Lawson</div>
                      </div>
                    </div>
                  </a>
                </li>
                <li class="dropdown-footer">
                  <a href="#">
                    View All <i class="fa fa-angle-right" aria-hidden="true"></i>
                  </a>
                </li>
              </ul>
            </div>
          </li>

          <li class="dropdown profile" v-if="user != null">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <div class="icon">
                <i class="fa fa-cog fa-2x" aria-hidden="true"></i>
              </div>
              <div class="title">Settings</div>
            </a>

            <div class="dropdown-menu">
              <div class="profile-info">
                <h4 class="username">
                  {{ user.firstName }} {{ user.lastName }} <br> <small v-text="user.company.name"></small>
                </h4>
              </div>
              <ul class="action">
                <li>
                  <router-link to="/licenses"> License & Billing </router-link>
                </li>
                <!--                 <li> -->
                <!--                   <a href="#"> Setting </a> -->
                <!--                 </li> -->
                <li>
                  <a href="/logout"> Logout </a>
                </li>
              </ul>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  </template>

  <template id="users-component-template">
  <div class="row">
    <div class="col-xs-12">
      <div class="card">
        <div class="card-header">Users</div>
        <div class="card-body">
          <table class="table">
            <thead>
              <tr>
                <th>#</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Company</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="user in users">
                <th scope="row" v-text="user.id"></th>
                <td v-text="user.firstName"></td>
                <td v-text="user.lastName">Otto</td>
                <td v-text="user.email"></td>
                <td v-text="user.company.name"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  </template>

  <template id="licenses-component-template">
  <div class="row">
    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
      <div class="card card-mini">
        <div class="card-header">
          <div class="card-title">Billing</div>
          <ul class="card-action">
            <li>
              <a @click="getLicenses()">
                <i class="fa fa-refresh"></i>
              </a>
            </li>
          </ul>
        </div>
        <div class="card-body no-padding table-responsive">
          <table class="table card-table">
            <thead>
              <tr>
                <th>Products</th>
                <th class="right">Expires</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="license in licenses">
                <td>Basic license</td>
                <td class="right" v-text="moment(license.expires).fromNow()"></td>
                <td>
                  <span class="badge badge-info badge-icon" v-if="license.status == 'NEW'"
                    <i class="fa fa-credit-card" aria-hidden="true"></i>
                    <span>Payment required</span>
                  </span>
                  <span class="badge badge-success badge-icon" v-if="license.status == 'ACTIVE'"
                    <i class="fa fa-check" aria-hidden="true"></i>
                    <span>Paid & active</span>
                  </span>
                  <span class="badge badge-danger badge-icon" v-if="license.status == 'EXPIRED'"
                    <i class="fa fa-times" aria-hidden="true"></i>
                    <span>Expired</span>
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12"></div>
  </div>
  </template>

  <template id="dashboard-component-template">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          <div class="card-title">Card</div>
        </div>
        <div class="card-body">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
          exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
          occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
      </div>
    </div>
  </div>
  </template>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.0/moment.min.js"></script>
  <script th:src="@{/js/vue/application.js}"></script>
  <script th:src="@{/js/vendor.js}"></script>
</body>
</html>